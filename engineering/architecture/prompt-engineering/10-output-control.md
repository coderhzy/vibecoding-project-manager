# 10 - 输出控制

> 控制 Agent 输出的格式、长度和结构。

## 格式控制

### 结构化输出

```markdown
# 输出格式

## Markdown 结构
- 使用标题分层（## / ###）
- 使用列表组织要点
- 使用代码块包裹代码

## 示例结构
### 分析结果
{分析内容}

### 建议方案
1. {方案1}
2. {方案2}

### 下一步
{行动建议}
```

### JSON 输出

```markdown
# 输出格式

输出纯 JSON，不要有其他内容：
{
  "field1": "value1",
  "field2": ["item1", "item2"],
  "field3": {
    "nested": "value"
  }
}

注意：
- 不要在 JSON 前后加解释
- 确保 JSON 格式正确
- 字段名使用 snake_case
```

## 长度控制

### 分场景长度

```markdown
# 长度控制

## 简短回复（<100字）
- 确认类：是/否/好的
- 状态更新：完成了 X
- 简单问答：X 是 Y

## 中等回复（100-300字）
- 解释说明
- 简单建议
- 选项列举

## 详细回复（300-500字）
- 方案设计
- 问题分析
- 详细教程

## 禁止超过 500 字
- 如果内容太多，分批次输出
- 询问用户想先了解哪部分
```

### 内容密度

```markdown
# 内容密度

## 高密度（信息型）
- 不要寒暄
- 不要重复
- 每句话都有信息量

## 低密度（共情型）
- 可以有过渡句
- 可以有情感表达
- 优先让用户感到被理解
```

## 语言风格

### 口语化 vs 书面化

```markdown
# 语言风格

## 口语化（用于对话）
✅ "这个选题挺好的，我觉得可以往搞笑方向走"
❌ "该选题具有较好的可行性，建议采用幽默风格"

## 书面化（用于文档）
✅ "本方案采用微服务架构，主要考虑..."
❌ "我们搞个微服务吧，因为..."
```

### 禁用词汇

```markdown
# 禁用词汇

## 空洞赞美
❌ "太棒了！" "非常好！" "厉害！"
✅ 直接进入正题，或给出具体评价

## 互联网黑话
❌ "赋能" "抓手" "打法" "闭环" "颗粒度"
✅ 用简单直接的词汇

## 机器人腔
❌ "好的，我来帮您..." "请问还有什么可以帮助您的？"
✅ 自然对话，像同事交流
```

## 输出模板

```markdown
# 输出控制

## 格式
- {格式要求1}
- {格式要求2}

## 长度
- 简短回复：{场景}
- 中等回复：{场景}
- 详细回复：{场景}
- 上限：{N}字

## 风格
- 语调：{口语化/书面化}
- 人称：{第一人称/第二人称}

## 禁止
- 不要 {禁止项1}
- 不要 {禁止项2}
```

## 检查清单

- [ ] 是否定义了输出格式？
- [ ] 是否有长度分级和上限？
- [ ] 是否定义了语言风格？
- [ ] 是否有禁用词汇列表？
- [ ] 不同场景的输出是否有区分？
