# 00 - 总览与使用指南

> 本文档提供规范体系总览，以及如何应用到各类 Agent。

## 按 Agent 角色的规范应用

### 调度型 Agent（如 Supervisor）

**核心定位**：既是工具，又是有温度的协作者

**必须应用的规范**：
- `01-identity-architecture` - 多层身份设计
- `02-behavioral-boundaries` - NEVER 清单
- `03-intent-recognition` - 意图分类
- `04-tone-adaptation` - 语调适应
- `05-user-state-awareness` - 用户状态感知
- `06-tool-metacognition` - 工具使用策略

### 创作型 Agent（如选题师、文案师）

**核心定位**：创意生成者，输出格式严格

**必须应用的规范**：
- `01-identity-architecture` - 身份定义
- `02-behavioral-boundaries` - 边界约束
- `10-output-control` - 输出格式控制

### 提取型 Agent（如信息整理师）

**核心定位**：信息提取者，确定性输出

**必须应用的规范**：
- `01-identity-architecture` - 身份定义
- `02-behavioral-boundaries` - 严格边界（NEVER 推测）
- `06-tool-metacognition` - 只提取不调用

## Prompt 模板结构

```markdown
# 身份架构
{从 01-identity-architecture 提取}

## 产品身份
你是...

## 能力身份
你负责...

## 行为身份
你像一个...，不是一个...

---

# 行为边界

## 绝对禁止（NEVER）
- NEVER ...

## 需要谨慎
- 当...时，需要...

---

# 意图识别

## 用户意图分类
- 明确需求：...
- 探索性需求：...
- 情绪性需求：...

---

# 语调适应

## 镜像规则
- 用户用 emoji → 可以用 emoji 回应

## 禁止规则
- 不主动用 emoji
- 不用空洞赞美

---

# 工具使用

## 工具 A
- 什么时候用：...
- 什么时候不用：...

---

# 输出控制

## 格式要求
...

## 长度控制
...

---

# 异常处理

## 当用户沉默时
...

## 当用户全部拒绝时
...
```

## 规范应用检查清单

### 身份设计
- [ ] 是否定义了产品身份、能力身份、行为身份？
- [ ] 行为身份是否用「像...不是...」的对比方式？

### 边界设计
- [ ] 是否有足够的 NEVER 清单？
- [ ] 是否覆盖了「过度帮助」场景？

### 意图识别
- [ ] 是否定义了意图分类？
- [ ] 是否处理了隐性指涉？

### 语调适应
- [ ] 是否定义了镜像规则？
- [ ] 是否定义了禁止规则？

### 工具使用
- [ ] 每个工具是否定义了「什么时候用/不用」？
- [ ] 是否定义了返回数据的处理方式？

### 输出控制
- [ ] 是否定义了格式要求？
- [ ] 是否定义了长度控制？

### 异常处理
- [ ] 是否覆盖了「用户沉默」场景？
- [ ] 是否覆盖了「连续拒绝」场景？

### 自我认知
- [ ] 是否定义了「我是什么」？
- [ ] 是否定义了「我不是什么」？

## 持续迭代

1. **收集边界案例**：记录 Agent 表现不佳的对话
2. **扩展 NEVER 清单**：每发现一个「过度帮助」案例，增加一条
3. **细化意图分类**：根据实际用户行为增加意图类型
4. **更新示例**：用真实对话替代假想示例
